/* ======================================================
   GLOBAL RESET
   ====================================================== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  width: 100%;
  height: 100%;
  font-family: sans-serif;
}

/* ======================================================
   THEMES – LIGHT / DARK
   ====================================================== */
body.dark-mode {
  background-color: #111;
  color: #eee;
}

body.light-mode {
  background-color: #f2f2f2;
  color: #111;
}

/* ======================================================
   TOPBAR
   ====================================================== */
.topbar {
  position: fixed; /*position wird relativ zum viewport errechnet -> bleibt immer oben rechts in der ecke*/
  top: 8px;
  right: 10px;
  z-index: 100; /* besagt, dass dieses Element in der obersten Ebene liegt, also VOR den anderen Elementen*/
}

.topbar button {
  margin-left: 6px;
  padding: 6px 10px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  background-color: #222;
  color: inherit;
}

/* Light mode buttons in topbar */
body.light-mode .topbar button {
  background-color: #ddd; /* damit der iconinhalt erkennbar ist, wenn lightmode ausgewählt ist*/
}

/* ======================================================
   SIDEBAR / PANEL
   ====================================================== */
.panel {
  position: fixed;
  top: 0;
  left: 0;
  width: 260px;
  height: 100vh;
  padding: 10px;
  background-color: rgba(0,0,0,0.85);
  z-index: 50;
  transition: transform 0.3s ease; /* dieser effekt, wenn von portrait <-> landscape gewechselt wird */
}

/* Light mode sidebar */
body.light-mode .panel {
  background-color: rgba(255,255,255,0.9);
}

/* Eingeklappte Sidebar */
body.sliders-collapsed .panel {
  transform: translateX(-240px); /* kleine ecke der sidebar bleibt sichtbar*/
}

/* ======================================================
   COLLAPSE HANDLE
   ====================================================== */
.collapse-handle {
  position: fixed;
  top: 50%;
  left: 260px;
  transform: translateY(-50%);
  padding: 8px 10px;
  border: none;
  border-radius: 0 6px 6px 0;
  cursor: pointer;
  background-color: #222;
  color: inherit;
  z-index: 90;
  transition: left 0.3s ease;
}

/* Light mode handle */
body.light-mode .collapse-handle {
  background-color: #ddd;
}

/* Handle position wenn Sidebar eingeklappt */
body.sliders-collapsed .collapse-handle {
  left: 0;
}

/* ======================================================
   PORTRAIT MODE ADJUSTMENTS
   ====================================================== */
@media (orientation: portrait) {
  .panel {
    width: 100%;
    height: auto;
    max-height: 45vh;
    top: auto;
    bottom: 0;
  }

  body.sliders-collapsed .panel {
    transform: translateY(100%);
  }

  .collapse-handle {
    left: 50%;
    top: auto;
    bottom: 45vh;
    transform: translateX(50%);
    border-radius: 6px 6px 0 0;
  }

  body.sliders-collapsed .collapse-handle {
    bottom: 0;
  }
}

/* ======================================================
   CONTROLS / SLIDERS / BUTTONS
   ====================================================== */
/* Grundlegendes Styling für alle Buttons */
button, .buttons button {
  cursor: pointer;
}

/* Alle Buttons im Sidebar / Control Sections */
.buttons button {
  width: 100%;
  margin-top: 6px;
  padding: 6px 10px;
  border: none;
  border-radius: 6px;
  background-color: #2a2a2a;
  color: inherit;
}

/* Light mode Buttons */
body.light-mode .buttons button {
  background-color: #ddd;
}

/* Alle Labels im Sidebar */
.control-section label {
  display: flex;
  justify-content: space-between;
  font-size: 0.8rem;
  margin-top: 6px;
}

/* Wert-Anzeige neben Slider */
.value {
  opacity: 0.7;
}

/* Abschnitt Überschriften */
.control-section h4 {
  font-size: 0.9rem;
  margin-bottom: 6px;
}

/* Slider Styling – gleiche Regeln für alle input[type="range"] */
input[type="range"] {
  width: 100%;
  margin-bottom: 6px;
  accent-color: #6cff6c;
}

/* Light mode Slider */
body.light-mode input[type="range"] {
  accent-color: #2a8a2a;
}

/* ======================================================
   CANVAS
   ====================================================== */
canvas {
  position: absolute;
  top: 0;
  left: 0;
}

/* ======================================================
   OVERLAY (HELP)
   ====================================================== */
.overlay {
  position: fixed;
  inset: 0;
  display: none;
  background-color: rgba(0,0,0,0.8);
  z-index: 200;
}

body.light-mode .overlay {
  background-color: rgba(245,245,245,0.9);
}

/* Inneres Overlay-Fenster */
.overlay-inner {
  position: relative;
  max-width: 500px;
  margin: 60px auto;
  padding: 20px;
  border-radius: 10px;
  background-color: #1c1c1c;
}

body.light-mode .overlay-inner {
  background-color: #fff;
}

/* Close Button Overlay */
.overlay-close {
  position: absolute;
  top: 8px;
  right: 8px;
  border: none;
  background: none;
  cursor: pointer;
  font-size: 1.2rem;
  color: inherit;
}

/* ======================================================
   SCREEN FLASH (TREFFER)
   ====================================================== */
#screenFlash {
  position: fixed;
  inset: 0;
  background-color: rgba(0,255,0,0.4);
  opacity: 0;
  pointer-events: none;
  z-index: 300;
  transition: opacity 0.25s ease;
}

#screenFlash.active {
  opacity: 1;
}

/* ======================================================
   SUCCESS MESSAGE
   ====================================================== */
#successMessage {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  padding: 10px 18px;
  border-radius: 8px;
  background-color: #1f8f1f;
  color: #fff;
  display: none;
  z-index: 150;
}

/* ======================================================
   DEBUG INFO
   ====================================================== */
#debugInfo {
  position: fixed;
  bottom: 0;
  right: 0;
  width: 250px;
  max-height: 50vh;
  padding: 10px;
  font-size: 0.75rem;
  background-color: rgba(0,0,0,0.7);
  display: none;
  z-index: 120;
}

body.light-mode #debugInfo {
  background-color: rgba(255,255,255,0.9);
}
